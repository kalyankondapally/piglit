# Test initialization of an array of structures where the elements of
# the structure do not all have the same vector size.

[require]
GLSL ES >= 1.00
GL ES >= 2.0

[vertex shader]
attribute vec4 position;

void main(void)
{
    gl_Position = position;
}

[fragment shader]

precision mediump float;
struct s { float f; vec3 v; };
uniform s a[1];
void main(void)
{
    if (a[0].f == 3.0)
      gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0); // green
    else
      gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); // red
}

[test]
uniform float a[0].f 3.0
uniform vec3 a[0].v vec3(3.0)
draw rect -1 -1 2 2
probe all rgba 0.0 1.0 0.0 1.0
